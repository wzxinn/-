<!doctype html> 
<html> 
<head> 
    <meta charset="utf-8"> 
    <title></title> 
    <style type="text/css">
*{margin: 0;padding: 0;list-style: none;}
#div1{width: 100px;height: 100px;background: red;position: absolute;left: 0;top: 0;}    	

    </style>
</head>
<body>
	adsklajlkdjakljkldjalksjdlsa
	<div id='div1'></div>
	<script type="text/javascript">

		div1.onmousedown = function(){
			var l = event.clientX - div1.offsetLeft;
			var t = event.clientY - div1.offsetTop;
			document.onmousemove = function(){
				//event.clientX,event.clientY;
				var needX = event.clientX - l;
				var needY = event.clientY - t;
				if(needX<0)needX = 0;
				if(needY<0)needY = 0;
				if(needY>innerHeight - div1.offsetHeight)needY = innerHeight - div1.offsetHeight;
				if(needX>innerWidth - div1.offsetWidth)needX = innerWidth - div1.offsetWidth;
				div1.style.left = needX + 'px';
				div1.style.top  = needY + 'px';
			};
			document.onmouseup = function(){
				document.onmousemove = null;
				document.onmouseup = null;
			};
			return false;
		}
		/*
		onmousemove = function(){
			//console.log(event.clientX,event.clientY);
			div1.style.left = event.clientX + 'px';
			div1.style.top  = event.clientY + 'px';
		};
		*/

	</script>
</body>
</html>