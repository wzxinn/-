<!doctype html> 
<html> 
<head> 
    <meta charset="utf-8"> 
    <title></title>
    <style type="text/css">
*{margin: 0;padding: 0;}
div{width: 100px;height: 100px;background: red;position: absolute;left: 0;top: 0;}    	

    </style> 
</head>
<body>
	<div class='drag'></div>
	<div class='drag'></div>
	<div class='drag'></div>
	<div class='drag'></div>
	<div class='drag'></div>
	<script type="text/javascript">
		document.documentElement.onmousedown = function(e){
			var ev = e || event;
			var iTarge = ev.target || ev.srcElement;

			if(iTarge.className == 'drag'){
				iTarge.style.background = 'green';

				var l = ev.clientX - iTarge.offsetLeft;

				var t = ev.clientY - iTarge.offsetTop;

				document.onmousemove = function(e){
					var ev = e || event;
					iTarge.style.left = ev.clientX - l + 'px';
					iTarge.style.top = ev.clientY - t + 'px';
				};
				document.onmouseup = function(){
					iTarge.style.background = 'red';
					this.onmousemove = this.onmouseup = null;
				};
			}
			return false;

		};



	</script>
</body>
</html>